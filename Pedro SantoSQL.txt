CREATE EXTENSION IF NOT EXISTS pgcrypto;
CREATE TABLE comprador (
    id_comprador serial,
    nome_comprador character varying(50),
    cpf_comprador character varying(14),
    rg_comprador character varying(20),
    cidade_comprador character varying(30),
    idade_comprador integer,
    CONSTRAINT comprador_pkey PRIMARY KEY (id_comprador),
    CONSTRAINT comprador_cpf_key UNIQUE (cpf_comprador),
    CONSTRAINT comprador_rg_key UNIQUE (rg_comprador)
);
CREATE TABLE criador (
    id_criador serial,
    nome_criador character varying(50),
    cpf_criador character varying(14),
    cidade_criador character varying(30),
    nacionalidade_criador character varying(30),
    CONSTRAINT criador_pkey PRIMARY KEY (id_criador),
    CONSTRAINT criador_cpf_key UNIQUE (cpf_criador)
);
CREATE TABLE funcionario (
    id_fun serial,
    nome_fun character varying(50),
    cpf_fun character varying(14),
    tipo_fun character varying(50),
    login_fun character varying(50),
    senha_fun character varying(100),
    CONSTRAINT funcionario_pkey PRIMARY KEY (id_fun),
    CONSTRAINT funcionario_cpf_key UNIQUE (cpf_fun),
    CONSTRAINT funcionario_login_key UNIQUE (login_fun)
);
CREATE TABLE boi (
    id_boi serial,
    nome_boi character varying(50),
    raca_boi character varying(50),
    peso_boi double precision,
    preco_boi double precision,
    id_criador integer,
    CONSTRAINT boi_pkey PRIMARY KEY (id_boi),
    CONSTRAINT boi_id_criador_fkey FOREIGN KEY (id_criador) REFERENCES criador (id_criador)
);
CREATE TABLE venda (
    id_vend serial,
    dat_vend date,
    val_vend double precision,
    id_comprador integer,
    id_fun integer,
    CONSTRAINT venda_pkey PRIMARY KEY (id_vend),
    CONSTRAINT venda_id_comprador_fkey FOREIGN KEY (id_comprador) REFERENCES comprador (id_comprador),
    CONSTRAINT venda_id_fun_fkey FOREIGN KEY (id_fun) REFERENCES funcionario (id_fun)
);
CREATE TABLE boi_venda (
    id_boi integer,
    id_vend integer,
    val_boi double precision,
    qtd_boi integer,
    CONSTRAINT boi_venda_id_boi_fkey FOREIGN KEY (id_boi) REFERENCES boi (id_boi),
    CONSTRAINT boi_venda_id_vend_fkey FOREIGN KEY (id_vend) REFERENCES venda (id_vend)
);